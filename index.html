<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 1 Review</title>
</head>
<body>
    <h1>Drew Jensen Week 1 Review -- Client-Side Programming</h1>
    <h2>Student DB with Sample Data:</h2>

    <form method="post" action="insertRecord.php"><br>
        <label>Student First Name: <input type="text" name="first_name" required></label><br>
        <label>Student Last Name: <input type="text" name="last_name" required></label><br>
        <button type="submit">Submit</button>
    </form>

    <h2>Student Roster</h2>
    <table id="studentRoster">
	    <tr>
            <th>Student_ID &nbsp&nbsp&nbsp&nbsp     </th>
		    <th>First Name   &nbsp&nbsp&nbsp&nbsp     </th>
		    <th>Last Name</th>
	    </tr>
    </table>



    <script type="text/javascript">

        var studentList = document.getElementById("studentRoster");

        fetch("getRecords.php")
	        .then(response => response.json())
	        .then(data => {
		        console.log(data);

                data.forEach(element => {

                    let row = document.createElement('tr');

                    let id = document.createElement('td');
			        id.innerHTML = element.student_iD;

                    let fname = document.createElement('td');
			        fname.innerHTML = element.first_name;

                    let lname = document.createElement('td');
			        lname.innerHTML = element.last_name;

                    row.appendChild(id);
                    row.appendChild(fname);
                    row.appendChild(lname);

                    studentList.appendChild(row);
		    });

	    });

    </script>

</body>
</html>

